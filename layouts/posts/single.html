{{ define "main" -}}
<main class="grid auto-rows-auto grid-cols-12 gap-4 py-6">

	<header class="col-span-12 md:col-span-9 lg:col-span-9">
		<h1 class="mb-4 text-5xl font-bold text-stone-50">{{ .Title }}</h1>
		<div class="flex h-48 items-center justify-center overflow-hidden rounded">
			<img src="{{ .Params.image }}" alt="{{ .Title }}" class="w-full" />
		</div>
	</header>

	<aside
		class="col-span-12 flex basis-1/2 justify-start space-x-4 pl-4 md:col-span-3 md:row-span-2 md:block md:space-x-0 lg:col-span-3">
		<section class="shrink-0 grow md:mb-4">
			<h3 class="mb-1 text-lg text-stone-500">Published</h3>
			{{ partial "author.html" . }}
		</section>

		<section class="grow md:mb-4">
			<h3 class="mb-1 text-lg text-stone-500">Tags</h3>
			{{ partial "tags.html" . }}
		</section>

		{{ if .Params.attribution }}
		<section class="grow md:mb-4">
			<h3 class="mb-1 text-lg text-stone-500">Attribution</h3>
			<ul>
				{{ range .Params.attribution }}
				<li class="prose prose-invert mb-2 last:mb-0">{{ . | safeHTML }}</li>
				{{ end }}
			</ul>
		</section>
		{{ end }}

		<section class="hidden md:block">
			<h3 class="mb-1 text-lg text-stone-500">Navigation</h3>
			<ul>
				{{ if .Prev }}
				<li class="float-left"><a class="text-sm hover:underline" href="{{ .Prev.Permalink }}">&lt;&lt; Prev</a>
				</li>
				{{ end }}

				{{ if .Next }}
				<li class="float-right"><a class="text-sm hover:underline" href="{{ .Next.Permalink }}">Next
						&gt;&gt;</a></li>
				{{ end }}
			</ul>
		</section>
	</aside>

	<article class="prose prose-stone prose-invert col-span-12 max-w-none lg:prose-lg md:col-span-9 lg:col-span-9">
		{{ .Content }}
	</article>

	<section class="col-span-12 mb-4 mt-8 md:col-span-9 lg:col-span-9">
		<ul>
			{{ if .Prev }}
			<li class="float-left"><a class="underline" href="{{ .Prev.Permalink }}">&lt;&lt; Previous</a></li>
			{{ end }}

			{{ if .Next }}
			<li class="float-right"><a class="underline" href="{{ .Next.Permalink }}">Next &gt;&gt;</a></li>
			{{ end }}
		</ul>
	</section>
</main>
{{ end }}
